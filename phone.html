<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>短信验证码倒计时</title>
    <style>
        button {
            color: red;
        }

        .disable {
            pointer-events: none;
            color: #666;
        }
    </style>
</head>
<body>
<div>
    <article>
        <h3>
            短信验证码倒计时
        </h3>
        <p>
            可以使用 pointer-events 来阻止元素成为鼠标事件的 target。html5 新增操作元素 class 类名的方式 classList。
        </p>
        <h4>
            classList 方法
        </h4>
        <ul>
            <li>
                add(value)：在元素中添加一个或多个类名。如果值已经存在，就不添加了。
            </li>
            <li>
                contains(value): 返回布尔值，判断指定的类名是否存在。
            </li>
            <li>
                remove(value)：移除元素属性列表中一个或多个类名。注意： 移除不存在的类名，不会报错。
            </li>
            <li>
                toggle(value)：在元素中切换类名。如果列表中已经存在给定的值，删除它；如果列表中没有给定的值，添加它
            </li>
        </ul>
    </article>

    <div>
        <input type="text" placeholder="请输入验证码">
        <button id="btn">发送验证码</button>
    </div>

</div>
<script type="text/javascript">
	const oBtn = document.getElementById('btn');
	let flag = true;

	oBtn.addEventListener("click", function () {
		let time = 10;
		oBtn.classList.add('disable');
		oBtn.innerText = '已发送';

		if (flag) {
			flag = false;
			var timer = setInterval(() => {
				time--;
				oBtn.innerText = time + ' 秒';
				if (time === 0) {
					clearInterval(timer);
					oBtn.innerText = '重新获取';
					oBtn.classList.remove('disable');
					flag = true;
				}
			}, 1000)
		}
	});

</script>
</body>
</html>